function WalkerGreenbank(e, t, i, n, o) { function a(e) { (e = i(e)).each(function () { function e() { naturalHeight = t.outerHeight(!0), t.parent().css("height", naturalHeight) } var t = i(this), n = i(window), o = t.offset().top; naturalHeight = t.outerHeight(!0), headerHeight = i("#header").outerHeight(), function () { t.wrap('<div class="fixed-element-wrap" />').parent().css("height", naturalHeight) }(), n.on("resize", function () { e() }), n.scroll(function () { n.scrollTop() > o ? t.addClass("fixed") : (t.removeClass("fixed"), e()) }) }) } function s() { el = i("#container input, #container select, #container textarea"), el.focus(function () { i("#header").css({ position: "absolute", top: "0px" }), i("#footer").css({ position: "absolute", bottom: "0px" }), i("#corporateInfo").css({ display: "none" }) }), el.blur(function () { i("#header").css({ position: "", top: "" }), i("#footer, #corporateInfo").css({ position: "", bottom: "", display: "" }) }) } function r() { var e = i("#footer").outerHeight() + 60; i("#container").find("input, select, textarea").focus(function () { var t = i(this).offset().top + i(this).height(), n = i(window).scrollTop(), o = n + i(window).height(); t + e > o && i("html, body").animate({ scrollTop: n + e }, 300) }) } function l(e) { var t = i(e); i(".inspirationCategories .item").removeClass("selected"), t.parent().addClass("selected"), t.parent().hasClass("category") && event.preventDefault(), "Style" == t.find(".itemTitle").text() && (i("#byRoom").animate({ height: 0, avoidCSSTransitions: !0 }, 400, function () { }), i("#byColour").animate({ height: 0, avoidCSSTransitions: !0 }, 400, function () { }), i("#byStyle").animate({ height: i("#byStyle").find("section").outerHeight() }, 400, function () { })), "Room" == t.find(".itemTitle").text() && (i("#byStyle").animate({ height: 0, avoidCSSTransitions: !0 }, 400, function () { }), i("#byColour").animate({ height: 0, avoidCSSTransitions: !0 }, 400, function () { }), i("#byRoom").animate({ height: i("#byRoom").find("section").outerHeight() }, 400, function () { })), "Colour" == t.find(".itemTitle").text() && (i("#byStyle").animate({ height: 0, avoidCSSTransitions: !0 }, 400, function () { }), i("#byRoom").animate({ height: 0, avoidCSSTransitions: !0 }, 400, function () { }), i("#byColour").animate({ height: i("#byColour").find("section").outerHeight() }, 400, function () { })) } var c, u, d, h, g, p = !1, f = !1; n.util.loadScript("/_js/shared/faq.js"), n.util.browser.isIOS() ? i(document).ready(function () { i("input[type=checkbox]").on("change", function (e) { i("label[for='" + i(this).attr("id") + "']").removeClass("selected"), 1 == i(this).prop("checked") && i("label[for='" + i(this).attr("id") + "']").addClass("selected") }), i("html").addClass("mac-ios") }) : -1 != navigator.userAgent.toLowerCase().indexOf("webkit") && navigator.vendor.toLowerCase().indexOf("apple") >= 0 && i("input[type=checkbox]").on("change", function (e) { i("label[for='" + i(this).attr("id") + "']").removeClass("selected"), 1 == i(this).prop("checked") && i("label[for='" + i(this).attr("id") + "']").addClass("selected") }), n.util.browser.isMobile() || window.addEventListener && window.addEventListener("orientationchange", function () { var e = i("#siteLinks ul, #nav ul, .footerToggles.long"); if (0 === orientation || 180 === orientation) { i(".productList").show(); var t = i(".selectedItemContainer").height(); i(".selectedItemContainer").css("height", t + 200), e.is(":visible") && e.hide() } else i(".selectedItemContainer").css("height", "auto!important"), e.is(":visible") || e.show(); i(".canvas_container").length > 0 && requestTimeout(function () { var e = i(".canvas_container").width(); i(".canvas_container, .caroufredsel_wrapper").height(e) }, 100) }), i(window).load(function () { var e = i(".productCollections").find(" > .item img"); e.css("height", .6714286 * e.outerWidth()); var t = i("#inspirationalImages").find(".inspirationCategories .category img.thumb"); t.css("height", .6714286 * t.outerWidth()), setCarousels() }), function () { var e, t; i(document).on("click", ".js-imageswap-gallery a", function (n) { n.preventDefault(), e = i("img", this).attr("src"), currentImg = i(this).closest(i(".js-imageswap")).find(i(".js-imageswap-main")), t = currentImg.attr("src"), i("img", this).attr("src", t), currentImg.attr("src", e) }) }(), i(document).ready(function () { function e() { return i(window).outerHeight() - (i("#header").outerHeight() + i("#footer").outerHeight()) } function t() { var e = i("#header").outerHeight(), t = i("#footer").outerHeight(); i("#externalSiteContainer").css({ height: i(document).height() - (e + t) + "px" }) } function o(e) { var t = i(window), n = t.outerHeight(); e.css({ "max-height": n - 100 }), t.resize(function () { var i = t.outerHeight(); e.css({ "max-height": i - 100 }) }) } a(".fixed-on-scroll"), i(".more-care-info").click(function () { i(".care-info").toggle(); var e = i(this); return i(".care-info").is(":visible") ? e.html('<span class="icon icon-angle-up"></span>Hide Key') : e.html('<span class="icon icon-angle-down"></span>Show Key'), !1 }), i(".toggle-categories").click(function () { i("#category-tabs").toggle(), i(".toggle-categories-space").toggle() }), n.util.browser.isMobile() || n.util.browser.isTablet() ? i(".imageCarousel .items").trigger("stop", !0) : i(".scroll-pane").remove(), n.util.browser.isIOS() && (s(), n.util.browser.isIpad ? i("#nav .toggle").addClass("ipad_hover") : i(".searchSite").mouseover(function () { i(".searchPanel").is(":visible") || i(this).find(".tooltip, .arrow").fadeIn() }).mouseout(function () { i(this).find(".tooltip, .arrow").fadeOut() })), jQuery.fn.extend({ toggleText: function (e, t) { var i = !1, n = this; return this.click(function () { i ? (n.text(e), i = !1) : (n.text(t), i = !0) }), this } }), i(document.body).on("click", ".more-info", function (e) { return e.preventDefault(), i(".eatra-info").toggle(), !1 }), i(".more-info").toggleText("More Information", "Less Information"), jQuery(window).scroll(function () { p || (p = !0, jQuery(this).scrollTop() > 500 ? jQuery(".back-to-top").css("bottom", "42px") : jQuery(".back-to-top").css("bottom", "0px"), jQuery(this).scrollTop() > 100 && i(".scrollDownAnt").hide(), requestTimeout(function () { p = !1 }, 500)) }), i(".back-to-top").click(function () { return i(document).animate({ scrollTop: 0 }, 600), !1 }), (n.util.browser.isMobile() || n.util.browser.isTablet()) && i(".tap-to-zoom").show(), i(document.body).on("click touchstart", ".tap-to-zoom", function (e) { var t = i(".imageCarousel"), n = t.find(".items"); "Enable Zoom" == i(this).text() ? (i(".zoom-helper").fadeIn(500), requestTimeout(function () { i(".zoom-helper").fadeOut(500) }, 2e3), i(this).text("Disable Zoom"), i(".scroll-pane").remove(), n.trigger("stop", !1)) : (i(this).text("Enable Zoom"), t.prepend('<div class="scroll-pane" style="display:none;"></div>'), i(".imageCarousel .scroll-pane").show(), n.trigger("play", !0)) }), i(document.body).on("click", ".carousel-play-pause", function (e) { !0 === f ? (i(this).html('<span class="icon icon-play"></span>'), pauseCollection(), f = !1) : (i(this).html('<span class="icon icon-pause"></span>'), collectionRotate(), f = !0) }), i(document.body).on("click touchstart", ".imageCarousel .bullets .icon-play", function (e) { e.preventDefault(); var t = i(e.currentTarget); return t.hasClass("icon-pause") ? (i(".imageCarousel .items").trigger("pause", !1), t.removeClass("icon-pause")) : (i(".imageCarousel .items").trigger("play", !0), t.addClass("icon-pause")), !1 }), i(".searchPanel, .bottomMenu").mouseenter(function () { preventOpen = !0 }).mouseleave(function () { preventOpen = !1 }), r(), i(".miniBasket .items, .scrapBookAdd .inner").niceScroll({}), i("input, textarea").placeholder(), i(".content-furnitureAccordion .dimensionsSpecifications .item").hover(function () { i("#dimensionsSpecificationsImage img").attr("src", i(this).data("large-image")) }, function () { }), document.location.hash.indexOf("by") > 0 && l(i('.inspirationCategories.productCollections.collectionsPreview a.item[href="' + document.location.hash + '"]')), i(document.body).on("click", ".inspirationCategories.productCollections.collectionsPreview a.item", function (e) { return document.location.hash = "by" + i(this).find(".itemTitle").text(), l(this), !1 }), c = new FormElement({ type: "ListItem", elements: i(".tagbuilder") }), u = new FormElement({ type: "MaxLength", elements: i(".wordCount") }), d = new FormElement({ type: "Spinner", elements: i(".spinner") }), h = new FormElement({ type: "SliderSingle", elements: i(".slider.single") }), g = new FormElement({ type: "SliderRange", elements: i(".slider.range") }), i(".datepicker input").each(function () { i(this).datepicker({ dateFormat: "dd/mm/yy", showOn: "both", buttonText: "Choose" }) }), i(".dateRange").each(function () { i(".from input").datepicker({ dateFormat: "dd/mm/yy", showOn: "both", buttonText: "Choose", onClose: function (e) { i(".to input").datepicker("option", "minDate", e) } }), i(".to input").datepicker({ dateFormat: "dd/mm/yy", showOn: "both", buttonText: "Choose", onClose: function (e) { i(".from input").datepicker("option", "maxDate", e) } }) }), i(".autocomplete input").autocomplete({ source: "/shops/WgShop/PredictiveSearchFrontend/", select: function (e, t) { t.item.url && (e.preventDefault(), window.location = t.item.url) } }), i(".footerToggles.long li a").bind("click", function () { i(".footerToggles.long li a.highlightedMenu").removeClass("highlightedMenu"), i(this).addClass("highlightedMenu") }), i(".short li a").bind("click", function () { return i(".short li a").removeClass("selected"), i(this).addClass("selected"), i(".footerToggles.long").hide(), i(window).width() < 769 && i(".footerToggles.short").hide(), !1 }), i(".tagpickerSearch").each(function () { field = i(this); var e = i(this).closest("form")[0], t = !0; "allownew=false" == field.attr("rel") && (t = !1); var n = { width: "100%", json_url: "/shops/WgShop/PredictiveSearchFrontend/", complete_text: "Search for tags or enter your own...", bricket: !1, onselect: function () { ajaxSearch(), i(".postbackSearch").length > 0 && i(e).submit() }, oncreate: function () { }, onremove: function (t) { i("#" + t._id).prop("selected", !1), ajaxSearch(), i(".postbackSearch").length > 0 && i(e).submit() } }; t && (n.newel = !0), i("select", field).fcbkcomplete(n) }), i("#nav .toggle").bind("click", function () { return i("#nav ul").toggle(), i("#siteLinks ul").hide(), i("#footer ul").hide(), !1 }), i("#siteLinks .toggle").bind("click", function () { return i("#siteLinks ul").toggle(), i("#nav ul").hide(), i("#footer ul").hide(), !1 }), i("#footer .toggle").bind("click", function () { return i("#footer ul").toggle(), i("#nav ul").hide(), i("#siteLinks ul").hide(), i(".long").hide(), !1 }); new i.accordion(i(".furnitureAccordion"), { openFirst: !0, closeOthers: !1, accordionType: "adv", trigger: ".toggle-furnitureAccordion", element: ".content-furnitureAccordion", container: ".boxSection" }); i(".content-furnitureAccordion").show(), i("#brochure").length > 0 && (document.ontouchmove = function (e) { e.preventDefault() }, i("#brochure").turn({ display: "double", acceleration: !0, gradients: !0, elevation: 50, height: e(), when: { turned: function (e, t) { } } }), i(window).resize(function (t) { i("#brochure").turn("size", i(window).width(), e()) }), i(window).bind("keydown", function (e) { 37 == e.keyCode ? i("#brochure").turn("previous") : 39 == e.keyCode && i("#brochure").turn("next") })), i("#externalSiteContainer").length > 0 && (i(window).resize(function (e) { t() }), t()), i(".quickPurchase .cuttingType input[type='radio']").click(function () { i(this).parents(".cuttingType").find("label").removeClass("selected"), i(this).parent().addClass("selected") }), i(".toggleFilters").click(function (e) { i(".filterAccordion").toggle() }), i(".filterUpdate .button").click(function (e) { i("#productFilters").foundation("reveal", "close"), e.preventDefault() }), i(".imageMiniBasket .items").hide(), i(".basketMessage a").click(function (e) { i(this).parents(".basketMessage").toggleClass("expanded"), i(this).parents(".basketMessage").siblings(".items").toggle(), e.preventDefault() }), i(".inspirationHeader .infoContainer").hide(), i(".inspirationHeader .toggle").click(function (e) { i(this).toggleClass("expanded"), i(this).parents(".inspirationHeader").find(".infoContainer").slideToggle(), e.preventDefault() }), i(".inspirationImages").magnificPopup({ delegate: "a", type: "inline", tLoading: "Loading image...", mainClass: "mfp-img-mobile", gallery: { enabled: !0, preload: [0, 1] }, callbacks: { open: function () { var e = i.magnificPopup.instance; e.contentContainer.addClass("hotspot-popup-content"), o(e.contentContainer.find(".hotspot-image")) }, change: function () { o(this.content.find(".hotspot-image")) } } }), i(".inspirationProducts .productList .item a").click(function (e) { return e.preventDefault(), i(".imageCarousel .items").trigger("slideTo", i("#zoom" + i(this).data("imageassetid")).parent()), i(this).parents(".items").children(".item").removeClass("selected"), i(this).parent().addClass("selected"), !1 }), i(".siteMessage [data-message-no]").click(function (e) { i.cookie("siteMessageRedirect", !1, { expires: 30, path: "/" }), el = i(this).parents(".siteMessage"), el.animate({ bottom: "-" + (el.outerHeight() + 30) }, 500, "easeInBack"), e.preventDefault() }), requestTimeout(function () { i(".zoomContainer").hide(), i(".zoomContainer").first().show() }, 10) }) } function clearCanvasGrid(e) { setTimeout(function () { var t = null; null == (t = currentCanvas.context) && (t = document.getElementById(e).getContext("2d")), t.clearRect(0, 0, t.canvas.width, t.canvas.height), t = null }, 500) } function highlight(e) { e.find(".hotspots").length > 0 ? $(".info-text span").fadeIn() : $(".info-text span").fadeOut(), Redant.util.browser.isMobile() || Redant.util.browser.isTablet() ? (e.addClass("currentSlide"), setTimeout(function () { if ($(".canvasZoom").length > 0) { $(".canvasZoom").css({ "z-index": "7" }); var e = $(".currentSlide").find(".canvasZoom"), t = $(".currentSlide").find(".canvas_container").data("img"); currentCanvas = new ImgTouchCanvas({ canvas: e[0], path: t }), (Redant.util.browser.isMobile() || Redant.util.browser.isTablet()) && $(".mainZoom").hide() } }, 100)) : $(".currentSlide").find(".canvas_container").remove() } function unhighlight(e) { e.css("opacity", "1"), 0 != $(".currentSlide").length && (Redant.util.browser.isMobile() || Redant.util.browser.isTablet()) && (clearCanvasGrid($(".currentSlide").find(".canvasZoom").attr("id")), $(".currentSlide").removeClass("currentSlide")) } function setCarousels() { $(".hotspotTarget").each(function () { $(this).qtip({ position: { my: "left center", at: "right center", viewport: !0, adjust: { method: "flipinvert", x: 5 } }, style: { classes: "hotspotProduct", tip: { width: 10, height: 8 } }, show: { event: "mouseenter", solo: !0, delay: 0, effect: function () { $(this).fadeTo(200, 1) } }, hide: { event: "mouseleave", delay: 300, fixed: !0, effect: function () { $(this).fadeTo(400, 0, function () { $(this).hide() }) } }, content: { text: $(this).next(".hotspotItem") }, events: { visible: function () { $.setDisabledByDefault(!0) }, hidden: function () { $.setDisabledByDefault(!1) } } }) }), $(".imageCarousel .items li:first-child").find(".hotspots").length > 0 && $(".info-text span").fadeIn(), $(".collectionShots .imageCarousel").find("ul.items").find(" > li > img").css({ height: (.67133 * $(".collectionShots .imageCarousel").width()).toString() + "px", width: $(".collectionShots .imageCarousel").width() + "px" }), $(".inspirationCarousel .imageCarousel").find("ul.items").find(" > li > img").css({ height: (.67133 * $(".inspirationCarousel .imageCarousel").width()).toString() + "px", width: $(".inspirationCarousel .imageCarousel").width() + "px" }), $(".imageCarousel:not(.productDetailsCarousel) .items").carouFredSel({ responsive: "true", width: "715px", height: "480px", items: 1, queue: !0, scroll: { easing: "easeInOutSine", onBefore: function (e) { unhighlight(e.items.old), $(this).trigger("currentPosition", function (e) { var t = e++; t = e++ , $(".galleryToggles li a").length > 0 && ($(".zoomContainer").hide(), $(".zoomContainer:nth-child(" + parseInt(t) + ")").show()), $(".inspirationProducts .productList .item").length > 0 && ($(".inspirationProducts .productList .item").removeClass("selected"), $(".inspirationProducts .productList .item:nth-child(" + parseInt(t) + ")").addClass("selected")) }), $.setDisabledByDefault(!0) }, onAfter: function (e) { highlight(e.items.visible), $.setDisabledByDefault(!1) } }, auto: !0, prev: { button: ".imageCarousel .prev", key: "left" }, next: { button: ".imageCarousel .next", key: "right" }, items: { height: "480px" }, pagination: { container: ".imageCarousel .bullets ul", anchorBuilder: function (e, t) { return '<li><a href="#' + e + '"><span>Slide ' + e + "</span></a></li>" } }, onCreate: function () { if ($(this).parents(".carousel").find(".bullets").show(), $(this).parents(".carousel").hasClass("furnitureCarousel")) $(".canvas_container, .caroufredsel_wrapper, .zoomWindow").height(439..toString() + "px"); else { var e = $(".canvas_container").width(); $(".canvas_container, .caroufredsel_wrapper").height(e) } (Redant.util.browser.isMobile() || Redant.util.browser.isTablet()) && highlight($(".items li").first()) } }).mouseover(function () { $(".imageCarousel .items").trigger("stop", !1), $(".icon-pause").removeClass("icon-pause") }).mouseout(function () { $(".imageCarousel .items").trigger("play", !0), $(".icon-play").removeClass("icon-pause").addClass("icon-pause") }).click(function (e) { return e.preventDefault(), !1 }), $(".imageCarousel.productDetailsCarousel .items").carouFredSel({ responsive: "true", width: "715px", height: "480px", items: 1, queue: !0, scroll: { easing: "easeInOutSine", onBefore: function (e) { unhighlight(e.items.old), $(this).trigger("currentPosition", function (e) { var t = e++; t = e++ , console.log(e, t), $(".galleryToggles li a").length > 0 && ($(".zoomWindow").hide(), $(".zoomWindow:eq(" + parseInt(t) + ")").show()), $(".inspirationProducts .productList .item").length > 0 && ($(".inspirationProducts .productList .item").removeClass("selected"), $(".inspirationProducts .productList .item:nth-child(" + parseInt(t) + ")").addClass("selected")) }), $.removeData(e.items.old.children("img"), "elevateZoom"), $(".zoomContainer").remove(), $.setDisabledByDefault(!0) }, onAfter: function (e) { highlight(e.items.visible); var t = $(".carousel img"); t.length > 0 && !Redant.util.browser.isTablet() && !Redant.util.browser.isMobile() && setTimeout(function () { t.height(), t.width(); matchMedia("only screen and (max-width: 48em)").matches ? e.items.visible.children("img").elevateZoom({ responsive: !0, gallery: "galleryToggles", galleryActiveClass: "selected", zoomType: "inner" }) : e.items.visible.children("img").elevateZoom({ responsive: !0, gallery: "galleryToggles", galleryActiveClass: "selected", borderSize: 0, lensOpacity: .2, zoomWindowOffetx: 1, zoomWindowWidth: 557, zoomWindowHeight: t.height() }) }, 500), $.setDisabledByDefault(!1) } }, auto: !1, prev: { button: ".imageCarousel .prev", key: "left" }, next: { button: ".imageCarousel .next", key: "right" }, items: { height: "480px" }, pagination: { container: ".imageCarousel .bullets ul", anchorBuilder: function (e, t) { return '<li><a href="#' + e + '"><span>Slide ' + e + "</span></a></li>" } }, onCreate: function () { if ($(this).parents(".carousel").find(".bullets").show(), $(this).parents(".carousel").hasClass("furnitureCarousel")) $(".canvas_container, .caroufredsel_wrapper, .zoomWindow").height(439..toString() + "px"); else { var e = $(".canvas_container").width(); $(".canvas_container, .caroufredsel_wrapper").height(e) } if (!Redant.util.browser.isMobile() && !Redant.util.browser.isTablet()) { $(".canvas_container").remove(); var t = $(".carousel img"); return void (t.length > 0 && !Redant.util.browser.isTablet() && !Redant.util.browser.isMobile() && setTimeout(function () { t.height(), t.width(); matchMedia("only screen and (max-width: 48em)").matches ? $(".items li").first().children("img").elevateZoom({ responsive: !0, gallery: "galleryToggles", galleryActiveClass: "selected", zoomType: "inner" }) : $(".items li").first().children("img").elevateZoom({ responsive: !0, gallery: "galleryToggles", galleryActiveClass: "selected", borderSize: 0, lensOpacity: .2, zoomWindowOffetx: 1, zoomWindowWidth: 557, zoomWindowHeight: t.height() }) }, 500)) } highlight($(".items li").first()) } }).click(function (e) { return e.preventDefault(), !1 }), $(".productCarousel .items").carouFredSel({ infinite: !1, circular: !1, align: "left", width: "100%", height: "206px", queue: !0, scroll: { easing: "easeInOutSine", onBefore: function () { var e = $(this).parents(".carousel"); e.parents(".shopExtraProducts").find(".prev.right.icon-angle-left").removeClass("disabled"), e.parents(".shopExtraProducts").find(".next.right.icon-angle-right").removeClass("disabled"); var t = e.find(".bullets li").length, i = null; $(this).trigger("currentPage", function (e) { i = e }), 0 == i && e.parents(".shopExtraProducts").find(".prev.right.icon-angle-left").addClass("disabled"), (i + 1 == t || e.find(".item").length < 3) && e.parents(".shopExtraProducts").find(".next.right.icon-angle-right").addClass("disabled"), $.setDisabledByDefault(!0) }, onAfter: function () { $.setDisabledByDefault(!1) } }, auto: !1, prev: { button: function () { return $(this).parent().siblings(".prev") } }, next: { button: function () { return $(this).parent().siblings(".next") } }, pagination: { container: function () { return $(this).parent().siblings(".bullets").children("ul") }, anchorBuilder: function (e, t) { return '<li><a href="#' + e + '"><span>Slide ' + e + "</span></a></li>" } }, swipe: !0, onCreate: function () { $(this).parents(".carousel").find(".bullets").show(); var e = null, t = $(this).parents(".carousel"), i = t.find(".bullets li").length; $(this).trigger("currentPage", function (t) { e = t }), 0 == e && t.parents(".shopExtraProducts").find(".prev.right.icon-angle-left").addClass("disabled"), (e + 1 == i || t.find(".item").length <= 3) && t.parents(".shopExtraProducts").find(".next.right.icon-angle-right").addClass("disabled") } }), Redant.util.browser.isMobile() && $(".imageCarousel .items").trigger("stop", !0), $(".next.right.icon-angle-right").click(function (e) { return e.preventDefault(), $(this).parent().parent().find(".items").trigger("next"), !1 }), $(".prev.right.icon-angle-left").click(function (e) { return e.preventDefault(), $(this).parent().parent().find(".items").trigger("prev"), !1 }), $(".globalNavItem").not(".active").click(function (e) { $(this).children(".leavingSite").fadeIn(), $(".leavingSite-bg").fadeIn() }), $(".closeLeavingBox, .closeBox").click(function (e) { return $(".leavingSite").fadeOut(), $(".leavingSite-bg").fadeOut(), !1 }) } WalkerGreenbank(window, document, jQuery, Redant); var currentCanvas = null;